# Определение персонажей игры.
define e = Character('Незнакомка', color="#291246")



# Игра начинается здесь:
label start:

# Все функции которые будут использоваться в игре:

    python:
        def show_image(x):
            image_map = {
                0: "tabs0.png",
                1: "tabs1.png",
                2: "tabs2.png",
                3: "tabs3.png",
                4: "tabs4.png",
                5: "tabs5.png",
                6: "tabs6.png"
            }
            
            return image_map.get(x, None)

    jump act1

label act1:

    scene kill
    play sound "scream.mp3"

    "НЕ НАДО! НЕЕТ!"

    scene black

    pause (2)

    scene home

    play sound "dark.mp3"

    #Акт 1. Пробуждение
    #Сцена 1. Первое пробуждение
    #Заброшенный дом в деревне. Полумрак. Герой лежит на кровати, рядом разбросаны медицинские инструменты. В комнате пахнет лекарствами.

    #Герой (приоткрывает глаза, хватается за голову): 
    "Где я? Что со мной случилось? Почему я ничего не помню?"

    #Незнакомка (входит с чашкой, мягко): 
    show sorry:
        xalign 0.0
        yalign 1.0

    e "Тише, не торопитесь. Выпейте это, вам станет легче."
    
menu:

    "Хорошо.":
        jump choice1_yes

    "Нет.":
        jump choice_death

label choice1_yes:

    $ tabs = 6

    jump choice1_done

label choice1_done:

    # ... the game continues here.
 
    # добавление таблеток
    $ image_name = show_image(tabs)
    show image image_name:
        xalign 1.2
        yalign 1.15

    #Герой (недоверчиво): 

menu:

    "Кто вы такая? Где моя семья? Что с ними?":
        jump choice2_done

    "Это ты убила их!!":
        jump choice2_yes

label choice2_yes:

    $ tabs -= 1

    jump choice2_done

label choice2_done:

    #Незнакомка: 
    $ image_name = show_image(tabs)
    show image image_name:
        xalign 1.2
        yalign 1.15

    show sorry:
        xalign 0.0
        yalign 1.0

    e "Ваша семья… Они в безопасности. А я — ваш врач, я помогаю вам восстановиться."

    #Герой: 
    "Восстановить что? Я не понимаю, что происходит!"

    #Незнакомка: 
    show sorry:
        xalign 0.0
        yalign 1.0

    e "Память иногда играет с нами злые шутки. Но мы справимся с этим вместе."


    #Герой: 
    "Сколько я был без сознания?"

    #Незнакомка: 
    show sorry:
        xalign 0.0
        yalign 1.0

    e "Недолго. Но вам нужно отдохнуть."



    call screen example_screen

label news:
    screen example_screen():
    # Создаём imagebutton с изображением для состояния idle и hover
        imagebutton:
            idle "news.png"  # Изображение для состояния покоя
            hover "newsb.png"  # Изображение для состояния наведения
            action Jump("choice_death")  # Действие при нажатии
            xpos 100  # Позиция по X
            ypos 100  # Позиция по Y
 
label continue:
    #Герой: 
    "Почему я не помню ничего? Где мы находимся?"

    #Незнакомка: 
    e "Мы в безопасном месте. Здесь вы сможете восстановить свои воспоминания."

    #Герой: 
    "А как я сюда попал?"

    #Незнакомка: 
    e "Вы были ранены. Я нашла вас в лесу и привела сюда."

    #Герой: 
    "Но почему я ничего не помню о том, как оказался в лесу?"

    #Незнакомка: 
    e "Иногда память блокирует травмирующие события. Это защитный механизм."

    #Сцена 2. Первые шаги
    #Герой пытается встать, но Незнакомка помогает ему.

    #Герой: 
    "Почему у меня такое чувство, что вы что-то скрываете?"

    #Незнакомка: 
    e "Просто ваше состояние нестабильно. Память возвращается постепенно."

    #Герой: 
    "А что за деревня? Почему она такая заброшенная?"

    #Незнакомка: 
    e "Это старая деревня. Многие уехали. Остались только те, кто не может или не хочет покидать родные места."

    #Герой: 
    "А вы? Вы местная?"

    #Незнакомка: 
    e "Можно и так сказать. Я здесь живу уже давно."

    #Герой: 
    "И что, здесь всегда так тихо?"

    #Незнакомка: 
    e "Да, здесь всегда спокойно. Это место помогает исцелиться."

    jump titles

#Здесь будут концовки:

#Смерть... Странный выбор...

label choice_death:

    scene doctors

    pause (2)

    "Что... происходит..."

    jump titles

#Конец игры!

label titles:

    scene black

    pause (5)

    return